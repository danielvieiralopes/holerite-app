<div class="container mt-5">
  <div class="card shadow-sm p-4">
    <h3 class="mb-4">ğŸ“‹ Lista de FuncionÃ¡rios</h3>

    <div class="mb-3">
      <input
        type="text"
        class="form-control"
        placeholder="ğŸ” Pesquisar por nome"
        [(ngModel)]="termoPesquisa"
        (input)="filtrarFuncionarios()"
      />
    </div>

    <table class="table table-bordered table-hover align-middle text-center">
      <thead class="table-light">
        <tr>
          <th>Nome</th>
          <th>CPF</th>
          <th>Data de Nascimento</th>
          <th>AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody>
          <tr *ngFor="let f of funcionariosFiltrados">
            <ng-container *ngIf="funcionarioEditandoId === f.id; else visualizacao">
              <td>
                <input type="text" class="form-control" [(ngModel)]="funcionarioEditadoTemp.nome" />
              </td>
              <td>
                <input type="text" class="form-control" [(ngModel)]="funcionarioEditadoTemp.cpf" />
              </td>
              <td>
                <input type="date" class="form-control" [(ngModel)]="funcionarioEditadoTemp.dataNascimento" />
              </td>
              <td>
                <button class="btn btn-sm btn-success me-2" (click)="salvarEdicao()">ğŸ’¾ Salvar</button>
                <button class="btn btn-sm btn-secondary" (click)="cancelarEdicao()">âŒ Cancelar</button>
              </td>
            </ng-container>

            <ng-template #visualizacao>
              <td>{{ f.nome }}</td>
              <td>{{ f.cpf }}</td>
              <td>{{ f.dataNascimento | date: 'dd/MM/yyyy' }}</td>
              <td>
                <button class="btn btn-sm btn-warning me-2" (click)="editarFuncionario(f)">âœï¸ Editar</button>
                <button class="btn btn-sm btn-danger" (click)="excluirFuncionario(f)">ğŸ—‘ï¸ Excluir</button>
              </td>
            </ng-template>
          </tr>
      </tbody>

    </table>

    <div *ngIf="funcionariosFiltrados.length === 0" class="alert alert-warning mt-3">
      Nenhum funcionÃ¡rio encontrado.
    </div>
  </div>
</div>
